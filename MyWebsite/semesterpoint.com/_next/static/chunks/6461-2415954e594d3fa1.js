"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6461],{9987:function(e,t,s){s.d(t,{e:function(){return a}});var r=s(85893),a=(s(67294),function(e){var t=e.isOpen,s=e.onClose,a=e.title,n=void 0===a?"Select Test Interface":a,i=e.description,c=void 0===i?"Which Test Interface do you want to use?":i,l=e.options,o=void 0===l?[]:l;return t?(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:(0,r.jsxs)("div",{className:"w-full max-w-md bg-white rounded-3 shadow-xl overflow-hidden",children:[(0,r.jsx)("div",{className:"px-6 py-4 border-b text-center",children:(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:n})}),(0,r.jsxs)("div",{className:"p-6 space-y-4 text-center",children:[c&&(0,r.jsx)("p",{className:"text-gray-600 mb-4",children:c}),(0,r.jsx)("div",{className:"flex justify-center gap-4 flex-wrap",children:o.map((function(e,t){return(0,r.jsx)("button",{className:"px-6 py-2 rounded text-white font-medium ".concat("secondary"===e.variant?"bg-gray-700 hover:bg-gray-800":"bg-primary hover:bg-primary-dark"),onClick:e.onClick,children:e.label},t)}))})]}),(0,r.jsx)("div",{className:"p-3 text-center border-t",children:(0,r.jsx)("button",{className:"text-sm text-gray-500 hover:underline",onClick:s,children:"Cancel"})})]})}):null})},96461:function(e,t,s){s.d(t,{Z:function(){return T}});var r=s(47568),a=s(97582),n=s(85893),i=(s(41664),s(7386)),c=s(30381),l=s.n(c),o=s(39886),d=s(47911),m=s(54610),u=s(49816),p=s(38653),h=s(35773),x=s(95305),_=s(84082),f=s(26683),b=s(83024),y=s(60766),g=s(3126),j=s(87261),v=s(91444),w=s(90387),N=s(96486),k=s(67294),U=s(89885),Z=s(45508),I=s(67814),C=s(59417),S=s(96076),P=s(44898),A=s(22490),q=s(9987);function T(e){var t=e.test,s=e.setSelectedTest,c=e.toggleSectionSelector,T=e.setSections,E=e.viewPdf,M=e.isPaidScreen,R=(0,k.useContext)(U.Z).appConfig,O=(0,w.useRouter)(),B=(0,k.useContext)(U.Z),G=B.hasSession,L=B.toggleAuthModal,D=(B.currentUser,B.setIsLogin),F=((0,k.useRef)(G),(0,k.useState)()),K=F[0],V=F[1],W=function(){return V(!K)},Y=(0,k.useState)(),z=Y[0],J=Y[1],Q=O.query,$=Q.api,H=Q.lcId,X=Q.testPassUrl;$=(0,Z.NA)($);var ee=(0,k.useState)([]),te=ee[0],se=ee[1],re=(0,k.useState)(!1),ae=re[0],ne=re[1],ie=(0,k.useMemo)((function(){return!t.is_test_attempted||1!==Number(t.max_test_attempt)}),[t]);(0,k.useEffect)((function(){var e=localStorage.getItem("completed_tests")?JSON.parse(localStorage.getItem("completed_tests")):[];se(e)}),[]);var ce=function(){var e=(0,Z.NA)(t.password);z!=e?v.Am.error("Incorrect password"):le(t)},le=function(e){(0,N.isEmpty)(e.password)||!(0,N.isEmpty)(z)?"0"!=e.attempt_enabled?(0,N.isEmpty)(e.test_questions_url)?v.Am.error("Test has not been published yet"):(0,i.k3)($,e.id,X).then(function(){var t=(0,r.Z)((function(t){var r;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return t.can_attempt?(localStorage.setItem(S.xj,e.id),"1"!=e.show_sectionselector?[3,2]:(s(e),[4,(0,i.vl)($,e.id,null,X)])):[3,3];case 1:return r=a.sent(),T(r),c(),[2];case 2:return"CTET"==e.ui_type?(O.push({pathname:"/test-series/".concat(e.test_series_id,"/tests-2/").concat(e.id,"/terms"),query:H?{lcId:H,baseUrl:$}:{testPassUrl:X}}),[2]):"KVS"==e.ui_type?(O.push({pathname:"/test-series/".concat(e.test_series_id,"/test-kvs/").concat(e.id,"/terms"),query:H?{lcId:H,baseUrl:$}:{testPassUrl:X}}),[2]):"GATE"==e.ui_type?(O.push({pathname:"/test-series/".concat(e.test_series_id,"/test-gate/").concat(e.id,"/terms"),query:H?{lcId:H,baseUrl:$}:{testPassUrl:X}}),[2]):"RRB"==e.ui_type?(O.push({pathname:"/test-series/".concat(e.test_series_id,"/test-rrb/").concat(e.id,"/terms"),query:H?{lcId:H,baseUrl:$}:{testPassUrl:X}}),[2]):"SSC"==e.ui_type?(0,A.h)(null===R||void 0===R?void 0:R.web_enableTestInterfaceSelector)?(ne(!0),[2]):(O.push({pathname:"/test-series/".concat(e.test_series_id,"/test-ssc/").concat(e.id,"/terms"),query:H?{lcId:H,baseUrl:$}:{testPassUrl:X}}),[2]):(O.push({pathname:"/test-series/".concat(e.test_series_id,"/tests/").concat(e.id,"/terms"),query:H?{lcId:H,baseUrl:$}:{testPassUrl:X}}),[3,4]);case 3:e.is_test_attempted&&"1"==e.show_result?O.push({pathname:"/test-series/".concat(e.test_series_id,"/tests/").concat(e.id,"/results"),query:H?{lcId:H,baseUrl:$}:{testPassUrl:X}}):v.Am.error("You have exceeded maximum attempts on this test."),a.label=4;case 4:return[2]}}))}));return function(e){return t.apply(this,arguments)}}()).catch((function(t){console.error("catch error ",t),e.is_test_attempted&&"1"==e.show_result?O.push({pathname:"/test-series/".concat(e.test_series_id,"/tests/").concat(e.id,"/results"),query:H?{lcId:H,baseUrl:$}:{testPassUrl:X}}):v.Am.error("You have exceeded maximum attempts on this test.")})):v.Am.warning("Test attempts not allowed"):W()};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(o.Z,{children:[t.image&&(0,n.jsx)(d.Z,{className:"mb-2 border-bottom",height:200,top:!0,src:t.image,alt:t.title}),(0,n.jsxs)(m.Z,{children:[(0,n.jsxs)(u.Z,{tag:"h5",className:"font-bold font-lg",children:[t.title,Number(t.remaining_attempt)>=0&&(0,n.jsxs)(p.Z,{className:"text-sm font-normal mt-1",children:["Remaining attempt - ",Number(t.remaining_attempt)]})]}),!t.image&&(0,n.jsxs)(h.Z,{className:"text-center font-semi-bold lh-sm border-top pt-3 font-sm mb-3",children:[(0,n.jsxs)(x.Z,{children:[(0,n.jsx)("div",{children:t.questions}),"Questions"]}),(0,n.jsxs)(x.Z,{children:[(0,n.jsx)("div",{children:t.marks}),"Marks"]}),(0,n.jsxs)(x.Z,{children:[(0,n.jsx)("div",{children:(0,P.$M)(t.time)}),"Minutes"]})]}),G?(l()(t.enddatetime).isAfter(l()(t.date_time))?l()().isBetween(l()(t.date_time),l()(t.enddatetime)):l()().isAfter(t.date_time))&&ie&&(0,n.jsxs)(_.Z,{block:!0,color:"primary",disabled:!M&&"0"==t.free_flag,onClick:function(e){return le(t)},children:[!M&&"0"==t.free_flag&&(0,n.jsx)(I.G,{icon:C.byT,className:"me-2"})," ",t.is_test_attempted?"Re-attempt":"Attempt"]}):(0,n.jsx)(_.Z,{onClick:function(){D(!0),L()},block:!0,color:"primary",children:"Login to Attempt"}),"1"==t.show_result&&(t.is_test_attempted||(null===te||void 0===te?void 0:te.includes(t.id)))&&(0,n.jsx)(_.Z,{className:"mt-3",block:!0,color:"primary",onClick:function(){return O.push({pathname:"/test-series/".concat(t.test_series_id,"/tests/").concat(t.id,"/results"),query:H?{lcId:H,baseUrl:$}:{testPassUrl:X}})},children:"Results"}),!(0,N.isEmpty)(t.pdf_url)&&G&&(0,n.jsxs)(_.Z,{block:!0,color:"primary",className:"mt-2",disabled:!M&&"0"==t.free_flag,onClick:E,children:[!M&&"0"==t.free_flag&&(0,n.jsx)(I.G,{icon:C.byT,className:"me-2"})," ","View PDF"]}),l()(t.enddatetime).isAfter(l()(t.date_time))&&l()().isAfter(l()(t.enddatetime))&&(0,n.jsx)("div",{className:"text-danger text-center",children:"This test has ended"}),l()().isBefore(l()(t.date_time))&&(0,n.jsxs)("div",{className:"text-danger text-center",children:["Live on: ",l()(t.date_time).format("D MMM yyyy, hh:mm A")]})]})]}),(0,n.jsxs)(f.Z,{isOpen:K,toggle:W,children:[(0,n.jsx)(b.Z,{toggle:W,children:"Enter password to attempt test"}),(0,n.jsxs)(y.Z,{children:[(0,n.jsx)(g.Z,{children:"Password"}),(0,n.jsx)(j.Z,{type:"password",name:"password",placeholder:"Enter password",onKeyPress:function(e){return"Enter"==e.key&&ce()},onChange:function(e){return J(e.target.value)}}),(0,n.jsx)("div",{className:"text-center mt-4",children:(0,n.jsx)(_.Z,{color:"primary",className:"px-5",onClick:ce,children:"Submit"})})]})]}),(0,n.jsx)(q.e,{isOpen:ae,onClose:function(){return ne(!1)},title:"Select Test Interface",description:"Which Test Interface do you want to use?",options:[{label:"New Pattern",onClick:function(){ne(!1),O.push({pathname:"/test-series/".concat(t.test_series_id,"/test-ssc/").concat(t.id,"/terms"),query:H?{lcId:H,baseUrl:$}:{testPassUrl:X}})}},{label:"Old Pattern",variant:"secondary",onClick:function(){ne(!1),O.push({pathname:"/test-series/".concat(t.test_series_id,"/tests-2/").concat(t.id,"/terms"),query:H?{lcId:H,baseUrl:$}:{testPassUrl:X}})}}]})]})}}}]);