"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3956],{5417:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(85893),i=n(89885),s=n(67294);function o(){var e=(0,s.useContext)(i.Z).appConfig;return(0,r.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center my-5 pt-4 bg-black",children:[(0,r.jsx)("div",{className:"mb-4 font-lg text-white",children:"Please download the app to watch this video"}),(0,r.jsx)("a",{href:e.web_iosurl||"https://apps.apple.com/in/app/my-coaching-by-appx/id1662307591",target:"_blank",rel:"noopener noreferrer",children:(0,r.jsx)("img",{src:"https://appx-static.akamai.net.in/app-store.png",width:150,alt:"App Store"})})]})}},23956:function(e,t,n){n.d(t,{Z:function(){return L}});var r=n(85893),i=n(67294),s=n(93041),o=n(59417),c=n(67814),a=n(3751),l=n(91444),u=n(43704),d=n(84082),m=n(70789),v=(n(68777),n(91328)),p=n(49475),f=n(96486),h=n(39154),x=n(7079),y=n(89885),g=n(42238),w=n.n(g),j=n(57654),S=n(76585),E=n(5417),b=n(96076),k=n(49458),N=n(25675),T=n.n(N);function L(e){var t,n,g=function(e){var t=q.current;if(s.ZP.isSupported()){var n={};I&&(n={enableWorker:!0,lowLatencyMode:!0,backBufferLength:90,liveSyncDurationCount:2}),Q.current=new s.ZP(n),Q.current.loadSource(e),Q.current.attachMedia(t);var r,i=new j.y(null!==(r=null===t||void 0===t?void 0:t.volume)&&void 0!==r?r:0,(function(e){t&&(t.volume=e)}),(function(e){var n,r=null===(n=t.parentElement)||void 0===n?void 0:n.querySelector(".volume-control");r&&(r.style.opacity=e?"0.5":"1",r.style.pointerEvents=e?"none":"auto")}));window._volumeControls=window._volumeControls||new Map,window._volumeControls.set((null===t||void 0===t?void 0:t.id)||"hlsvideo",i),t.addEventListener("loadeddata",(function(){if(Ae(),null!==Fe.current&&Fe.current>0){var e=Math.min(Fe.current,t.duration||0);t.currentTime=e,console.log("Resuming video from stored time: ".concat(e,", duration: ").concat(t.duration,", pauseTimeRef.current: ").concat(Fe.current))}else F&&(t.currentTime=0);t.playbackRate=ne,t.play().then((function(e){W(!0),pe(!1),Pe(!1)})).catch((function(e){pe(!0)}))})),t.addEventListener("playing",(function(){Pe(!1)})),t.addEventListener("play",(function(){Pe(!1)})),t.addEventListener("pause",(function(){setTimeout((function(){Ge()}),100)})),Q.current.on(s.ZP.Events.ERROR,(function(t,n){console.error(t,n),n.type===s.ZP.ErrorTypes.NETWORK_ERROR?(q.current&&(Fe.current=q.current.currentTime),Pe(!0),ze(e)):n.type===s.ZP.ErrorTypes.MEDIA_ERROR&&(Pe(!0),n.details!==s.ZP.ErrorDetails.BUFFER_STALLED_ERROR&&ze(e))}))}else{var o,c=(new(w())).getOS();Number(null===c||void 0===c||null===(o=c.version)||void 0===o?void 0:o.split(".")[0]);("iOS"==(null===c||void 0===c?void 0:c.name)||(null===c||void 0===c?void 0:c.name.toLowerCase().includes("mac"))&&"ontouchend"in document)&&Re(!0),console.error("This is an old browser that does not support MSE https://developer.mozilla.org/en-US/docs/Web/API/Media_Source_Extensions_API")}},N=e.src,L=e.qualities,R=e.seekBarDisabled,I=e.low_latency_enabled,C=e.isWindowsApp,P=e.isMobile,Z=void 0!==P&&P,_=e.disableFluidMode,M=void 0!==_&&_,B=e.playFromBeginning,F=void 0!==B&&B,D=e.watermarkText,O=e.isAdmin,z=void 0!==O&&O,A=e.debug,G=void 0!==A&&A,q=(0,i.useRef)(null),Q=(0,i.useRef)(),V=(0,i.useState)(!1),U=V[0],W=V[1],X=(0,i.useState)(!1),H=(X[0],X[1],(0,i.useState)(0)),J=H[0],K=H[1],Y=(0,i.useState)("00:00/00:00"),$=Y[0],ee=Y[1],te=(0,i.useState)(1),ne=te[0],re=(te[1],(0,i.useState)(!1)),ie=re[0],se=re[1],oe=(0,i.useState)(),ce=oe[0],ae=oe[1],le=(0,i.useState)(!1),ue=le[0],de=le[1],me=(0,i.useState)(!0),ve=me[0],pe=me[1],fe=(0,i.useState)(0),he=fe[0],xe=fe[1],ye=(0,i.useState)(e.selectedQuality),ge=ye[0],we=ye[1],je=(0,i.useContext)(y.Z),Se=je.appConfig,Ee=je.currentUser,be=(0,i.useState)(e.selectedVideoFitOption||x.zz[0]),ke=be[0],Ne=be[1],Te=(0,i.useState)(!1),Le=Te[0],Re=Te[1],Ie=(0,i.useState)(!1),Ce=Ie[0],Pe=Ie[1],Ze=(0,i.useRef)(null),_e=(0,i.useRef)(0),Me=(0,i.useRef)(!1),Be=(0,i.useRef)(null),Fe=(0,i.useRef)(null),De=(0,a.useTimer)({autoStart:!0,expiryTimestamp:(new Date).setSeconds((new Date).getSeconds()+b.kL),onExpire:function(){We()}}),Oe=function(){if(q.current){!function(){var e=q.current;if(e&&e.buffered&&e.buffered.length>0){var t=100/e.duration*e.buffered.end(0);xe(t)}}(),de(null===Q||void 0===Q?void 0:Q.liveSyncPosition);var e=100/q.current.duration*q.current.currentTime;if(isNaN(e))K(0),ee("00:00/00:00");else{K(e);var t=new Date(1e3*q.current.duration).toISOString().substr(11,8),n=new Date(1e3*q.current.currentTime).toISOString().substr(11,8),r=Math.floor(q.current.duration/3600),i=Math.floor(q.current.currentTime/3600);if(0!=r)if(0!=i)ee(n+"/"+t);else{var s=n.split(":");n=s[1]+":"+s[2],ee(n+"/"+t)}else{var o=t.split(":");if(t=o[1]+":"+o[2],0!=i)ee(n+"/"+t);else{var c=n.split(":");n=c[1]+":"+c[2],ee(n+"/"+t)}}}}},ze=function(e){Ze.current&&clearInterval(Ze.current),_e.current=0,Pe(!0),Ze.current=setInterval((function(){!function(e){if(_e.current>=24)return console.log("Max retries reached, stopping retry attempts"),void Pe(!1);_e.current+=1,console.log("Retrying video load, attempt ".concat(_e.current,"/").concat(24)),Q.current&&Q.current.destroy(),g(e)}(e)}),5e3)},Ae=function(){Ze.current&&(clearInterval(Ze.current),Ze.current=null),_e.current=0,Pe(!1)},Ge=function(){Be.current&&clearTimeout(Be.current),q.current&&q.current.paused&&!Me.current&&(console.log("Video paused unexpectedly, attempting to resume..."),q.current.play().then((function(){console.log("Video resumed successfully"),W(!0),pe(!1),Pe(!1)})).catch((function(e){console.log("Failed to resume video, will retry:",e);var t=(null===ge||void 0===ge?void 0:ge.path)||N;ze(t)}))),Be.current=setTimeout((function(){Me.current=!1}),1e3)};(0,i.useEffect)((function(){return document.addEventListener("keydown",qe),function(){Q.current&&Q.current.destroy(),Ae(),Be.current&&clearTimeout(Be.current),document.removeEventListener("keydown",qe)}}),[]);var qe=function(e){"INPUT"!=e.target.tagName&&"Space"==e.code&&(Ve(),e.preventDefault())};(0,i.useEffect)((function(){var e=q.current;if(e){var t=N;return e.addEventListener("timeupdate",Oe),ge&&(t=ge.path),g(t),function(){e&&e.removeEventListener("timeupdate",Oe)}}}),[N,q]);var Qe,Ve=function(){q.current.paused?(Me.current=!1,q.current.play()):(Me.current=!0,q.current.pause()),W(!q.current.paused),pe(!1)},Ue=function(){var e=document.getElementById("hlsplayer");if((!e||!e.classList.contains("user-active"))&&(e.classList.remove("user-inactive"),e.classList.add("user-active"),!De.seconds<=1)){var t=(new Date).setSeconds((new Date).getSeconds()+b.kL);De.restart(t,!0)}},We=function(){var e=document.getElementById("hlsplayer");e&&(e.classList.remove("user-active"),e.classList.add("user-inactive"))};return Le?(0,r.jsx)(E.Z,{}):(0,r.jsxs)("div",{id:"hlsplayer",onClick:function(e){if(!(e.target.closest("#hls-player-video-controls")||e.target.closest("#floatingBtns"))){var t=document.getElementById("hlsplayer");t&&t.classList.contains("user-active")?(We(),De.pause()):Ue()}},onMouseMove:Ue,onTouchStart:Ue,className:"h-100",style:{position:"relative",paddingTop:"56.25%"},children:[G&&(0,r.jsx)(k.Z,{isMobile:Z,componentSuffix:"HlsPlayer"}),M&&(0,r.jsx)(p.Z,{}),!(0,f.isEmpty)(D)&&(0,r.jsx)(h.Z,{message:D,isAdmin:z},"watermark"),(0,f.isEmpty)(D)&&"0"!=Se.web_enablewatermarkonvideos&&Ee&&(0,r.jsx)(h.Z,{isAdmin:z},"watermark"),(0,r.jsxs)("div",{style:{height:M?"100vh":"100%"},children:[!ve&&(null===(t=q.current)||void 0===t?void 0:t.readyState)<2&&(0,r.jsx)(c.G,{icon:o.IJ7,spin:!0,color:"gray",size:"2x",className:"position-absolute center"}),Ce&&!ve&&(0,r.jsx)("div",{className:"position-absolute center text-center z-10",children:(0,r.jsx)(T(),{src:"/assets/customplayer/css-loader.gif",alt:"Loading...",width:40,height:40})}),(0,r.jsx)("video",{id:"hlsvideo",style:{width:"100%",objectFit:null!==(Qe=ke.value)&&void 0!==Qe?Qe:"contain"},ref:q,poster:b.u7,autoPlay:!1}),ve&&(0,r.jsx)(c.G,{icon:o.aQp,size:"3x",className:"position-absolute center opacity-75 cursor-pointer text-gray",onClick:Ve}),!ve&&(0,r.jsxs)("div",{id:"hls-player-video-controls",children:[ue-(null===(n=q.current)||void 0===n?void 0:n.currentTime)>10&&(0,r.jsxs)(d.Z,{size:"sm",color:"link",className:"text-white",onClick:function(){q.current.currentTime=ue},children:[(0,r.jsx)(c.G,{style:{fontSize:"8px"},className:"text-danger me-1",icon:o.diR}),"Go Live"]}),(0,r.jsxs)("div",{className:"d-flex",children:[!I&&(0,r.jsx)("div",{className:"duration mx-2 font-sm d-md-none text-white",children:$.split("/")[0]}),!R&&(0,r.jsx)(m.Z,{currentTime:J,bufferedTime:he,onTimeChange:function(e){var t=q.current.duration*(e.target.value/100);q.current.currentTime=t,K(e.target.value)},seekBarDisabled:R}),!I&&(0,r.jsx)("div",{className:"duration mx-2 font-sm d-md-none text-white",children:$.split("/")[1]})]}),(0,r.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,r.jsxs)("div",{className:"d-flex align-items-center",children:[(0,r.jsx)("div",{id:"hls-play-pause",className:"icon",onClick:Ve,children:(0,r.jsx)(c.G,{icon:U?o.XQY:o.zc,className:""})}),!Z&&(0,r.jsx)(u.Z,{}),R?(0,r.jsxs)("div",{className:"text-white px-2 font-sm mt-1",children:[(0,r.jsx)(c.G,{style:{fontSize:"5px"},className:"text-danger me-1 mb-1",icon:o.diR}),"LIVE"]}):(0,r.jsx)("div",{className:"ms-2 duration font-sm d-none d-md-block text-white",children:$})]}),(0,r.jsxs)("div",{className:"d-flex align-items-center",children:[e.toggleChat&&(0,r.jsx)("div",{className:"icon pe-2",onClick:e.toggleChat,children:(0,r.jsx)(c.G,{icon:o.lXL})}),(0,r.jsx)("div",{className:"video-fit-options-selector-div",children:(0,r.jsx)(x.ZP,{selectedVideoFitOption:ke,onVideoFitOptionChange:function(e){Ne(e)}})}),L&&ge&&L.length>0&&(0,r.jsx)("div",{className:"quality-div",children:(0,r.jsx)(v.Z,{qualities:L,selectedQuality:ge,onQualityChange:function(e){Ae(),Q.current&&Q.current.destroy();var t=e.target.value,n=e.target.name;W(!0);var r=(null!==L&&void 0!==L?L:[]).find((function(e){return e.path==t&&e.quality==n}));r&&we(r),K(0),g(t),Oe()}})}),"1"!=C&&!Z&&(0,r.jsx)("div",{className:"icon",onClick:function(){var e=document.getElementById("hlsvideo");document.pictureInPictureElement?document.exitPictureInPicture():e.requestPictureInPicture().then((function(t){ae(!0),e.addEventListener("leavepictureinpicture",(function(){ae(!1)}))})).catch((function(e){console.error(e),l.Am.error("Picture in picture mode not supported")}))},children:ce?(0,r.jsx)(c.G,{icon:o.wyP}):(0,r.jsx)("img",{src:"/icons/pic.svg",style:{height:"24px",width:"24px"},alt:"Picture in Picture"})}),(0,r.jsx)("div",{id:"hls-full-screen",className:"icon",style:Z?{visibility:"hidden"}:{},onClick:function(){var t=document.getElementById("hlsplayerwithchat")?document.getElementById("hlsplayerwithchat"):document.getElementById("hlsplayer"),n=t.getElementsByTagName("video")[0];document.fullscreenElement?(document.exitFullscreen(),screen.orientation.lock&&screen.orientation.lock("natural")):((0,S.Zx)(t,n,(function(){document.fullscreenElement?(se(!0),e.setIsFullScreen&&e.setIsFullScreen(!0)):(se(!1),e.setIsFullScreen&&e.setIsFullScreen(!1))})),screen.orientation.lock&&screen.orientation.lock("landscape-primary"))},children:(0,r.jsx)(c.G,{icon:ie?o.Qj4:o.TL5})})]})]})]})]})]})}}}]);