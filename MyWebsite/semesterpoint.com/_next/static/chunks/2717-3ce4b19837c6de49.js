"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2717],{47628:function(e,n,t){t.d(n,{nf:function(){return k},zL:function(){return C},OM:function(){return w},ju:function(){return K},EO:function(){return T},_J:function(){return R},LV:function(){return f},$M:function(){return h},yO:function(){return m},Q9:function(){return F},$9:function(){return y},T0:function(){return A},io:function(){return M},Pv:function(){return v},yZ:function(){return U},s$:function(){return O},TJ:function(){return D},An:function(){return _},M_:function(){return E},AK:function(){return P},Cg:function(){return L},JH:function(){return g},q5:function(){return S},vk:function(){return x}});var r=t(47568),a=t(26042),i=t(69396),s=t(97582),o=t(87066),c=t(47041),u=t(96076),l=t(81354),d=t.n(l);function p(e){return d().SHA256(e).toString()}var f=function(e){var n=new FormData,t={};Object.keys(e).forEach((function(r){t[r]="".concat(e[r]),n.append(r,"".concat(e[r]))}));var r=p(JSON.stringify(t));return o.Z.post("/post/createOrderv2",n).then((function(e){var n;return e.data?(0,i.Z)((0,a.Z)({},e.data),{isSameSignature:(null===(n=e.data)||void 0===n?void 0:n.signature)===r,encryptedString:r}):null}))},m=function(e){var n=new FormData,t={};Object.keys(e).forEach((function(r){t[r]="".concat(e[r]),n.append(r,"".concat(e[r]))}));var r=p(JSON.stringify(t));return o.Z.post("/post/createSubscriptionForPayment",n).then((function(e){var n;return e.data?(0,i.Z)((0,a.Z)({},e.data),{isSameSignature:(null===(n=e.data)||void 0===n?void 0:n.signature)===r,encryptedString:r}):null}))},h=function(e){return o.Z.post("/post/createOrderForCart",e).then((function(e){return e.data}))},g=function(e){return o.Z.post("https://tempapi.classx.co.in/post/insert_rzp_options",e).then((function(e){return e.data}))},_=function(e){return o.Z.get("https://tempapi.classx.co.in/get/get_rzp_options",{params:{id:e}}).then((function(e){return e.data}))},v=function(e){var n=new FormData;return Object.keys(e).forEach((function(t){n.append(t,e[t])})),o.Z.post("/post/add_free_purchase",n).then((function(e){return e.data}))},x=function(e){return o.Z.get("/get/verify_pincode",{params:{pincode:e}}).then((function(e){return e.data}))},y=function(e){return fetch("https://api.postalpincode.in/pincode/".concat(e)).then((function(e){return e.json()}))},j=function(e,n,t){return o.Z.get("/get/get_all_purchases",{baseURL:e,params:{userid:n,item_type:t}}).then((function(e){return e.data.data}))},Z=function(e,n,t){return o.Z.get("/get/get_all_purchasesv2",{baseURL:e,params:{userid:n,item_type:t}}).then((function(e){return e.data.data}))},b=function(e,n){return o.Z.get("/get/mycourseweb",{baseURL:e,params:{userid:n}}).then((function(e){return e.data.data}))},N=function(e,n){return o.Z.get("/get/purchasedtest_series",{baseURL:e,params:{userid:n}}).then((function(e){return e.data.data}))},C=function(e,n,t,r,a,i){var s=(0,c.getCookie)(u.JR)||-1;return o.Z.get("/get/discount_coupon",{params:{coupon_code:e,user_id:s,item_id:n,item_type:t,installment_no:r,pricing_plan_id:a,is_cart_coupon:i}}).then((function(e){return e.data.discount}))},w=function(e,n,t,r,a,i,s){var l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"https://thetestpassapi.akamai.net.in",d=(0,c.getCookie)(u.JR)||-1;return o.Z.get("/get/discount_coupon",{baseURL:l,params:{coupon_code:e,user_id:d,item_id:n,item_type:t,installment_no:r,pricing_plan_id:a,is_cart_coupon:i,client_api_url:s}}).then((function(e){return e.data.discount}))},k=function(e){var n=new FormData;return Object.keys(e).forEach((function(t){n.append(t,e[t])})),o.Z.post("post/validate_broker_id_and_add_purchase",n).then((function(e){return e.data}))},E=function(e,n){return o.Z.get("/get/get_user_dt",{baseURL:e,params:{userid:n}}).then((function(e){return e.data.data}))},O=function(e,n){return o.Z.get("/get/get_order_details",{baseURL:e,params:{order_id:n}}).then((function(e){return e.data.data}))},S=function(e){var n=new FormData;return Object.keys(e).forEach((function(t){n.append(t,e[t])})),o.Z.post("/post/update_order_detail",n).then((function(e){return e.data}))},R=function(e,n,t,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"0";return o.Z.get("/get/checkemailforpurchase",{baseURL:e,params:{itemtype:n,itemid:t,email:r,is_extended:a}}).then((function(e){return e.data.data}))},L=function(e,n,t){var r=(0,c.getCookie)(u.JR);t=t||(0,c.getCookie)(u.KH);var s=new FormData;return Object.keys(n).forEach((function(e){s.append(e,n[e])})),fetch("".concat(e,"/post/insertleadsdata"),{method:"POST",headers:(0,i.Z)((0,a.Z)({},t?{Authorization:t}:{},r?{"User-ID":r}:{}),{"Client-Service":"Appx","Auth-Key":"appxapi",source:"website",Connection:"Keep-Alive","Keep-Alive":"timeout=5, max=200"}),body:s,keepalive:!0}).then((function(e){return e.json()})).then((function(e){return e}))},P=function(e){return o.Z.post("/post/savepaymentaddressdetails",e).then((function(e){var n;return null===(n=e.data)||void 0===n?void 0:n.data}))},D=function(e,n){return o.Z.get("/get/payment_page",{baseURL:e,params:{slug:n}}).then((function(e){return e.data.data}))},U=function(e){return o.Z.get("/purchases/generate-invoice-url",{params:{purchaseId:e}}).then((function(e){return e.data.data}))},A=function(){var e=(0,r.Z)((function(e){var n,t,r,a,i,o,c,u,l;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:return n=e.baseURL,t=e.userId,r=e.type,a=e.unifyPurchaseAPI,i=e.showAlternateTypeIfNoPurchases,c=r,a?[4,Z(n,t,c)]:[3,2];case 1:return o=s.sent(),[3,8];case 2:return 1!=c?[3,4]:[4,b(n,t)];case 3:return u=s.sent(),o=u.map((function(e){return{itemid:e.id,itemtypeid:"1",itemtype:"Course",coursedt:[e]}})),[3,8];case 4:return 3!=c?[3,6]:[4,N(n,t)];case 5:return l=s.sent(),o=l.map((function(e){return{itemid:e.id,itemtypeid:"3",itemtype:"Test Series",testseriesdt:[e]}})),[3,8];case 6:return[4,j(n,t,c)];case 7:o=s.sent(),s.label=8;case 8:return i&&0==(null===o||void 0===o?void 0:o.length)?(c=1==c?10:1,[4,a?Z(n,t,c):j(n,t,c)]):[3,10];case 9:o=s.sent(),s.label=10;case 10:return[2,o]}}))}));return function(n){return e.apply(this,arguments)}}(),T=function(e){var n=e.item_id,t=e.item_type;return o.Z.post("/ytsubscription/cancel-subscription",{item_id:n,item_type:t}).then((function(e){return e.data}))},M=function(e,n,t){return o.Z.get("/telegram/fetchTelegramLink",{baseURL:e,params:{item_id:n,item_type:t}}).then((function(e){return e.data}))},F=function(){var e=(0,r.Z)((function(e){var n,t,r=arguments;return(0,s.__generator)(this,(function(a){return n=r.length>1&&void 0!==r[1]?r[1]:20,t=r.length>2?r[2]:void 0,[2,o.Z.get("/get/get_cart_items",{baseURL:e,params:{item_type:n,item_id:t}}).then((function(e){return e.data.data}))]}))}));return function(n){return e.apply(this,arguments)}}(),K=function(e){if(e)return o.Z.put("/payments/orders/".concat(e,"/cancel")).then((function(e){return e.data})).catch((function(e){return null}))}},16407:function(e,n,t){t.d(n,{Z:function(){return s}});var r=t(85893);var a=function(){return void 0!==navigator.languages?navigator.languages[0]:navigator.language||"en"},i=t(67294);function s(e){var n=e.price,t=e.mrp,s=e.showPreciseDiscount,o=void 0!==s&&s,c=e.currency,u=void 0===c?"INR":c,l=a(),d=new Intl.NumberFormat(l,{style:"currency",currency:u,minimumFractionDigits:0}),p=(0,i.useMemo)((function(){return Number(n)}),[n]),f=(0,i.useMemo)((function(){return Number(t)}),[t]),m=(0,i.useMemo)((function(){return(f-p)/f*100}),[f,p]);return isNaN(f)||!isNaN(p)&&f===p?d.format(p):isNaN(p)||p<0?null:(0,r.jsxs)("div",{className:"d-flex",children:[d.format(p)," ",f>p?(0,r.jsxs)("div",{className:"d-flex align-items-center justify-content-between flex-grow-1 ms-1",children:[(0,r.jsx)("div",{className:"font-sm text-gray font-regular text-decoration-line-through",children:d.format(f)}),m&&(0,r.jsxs)("div",{className:"text-success ms-2",children:[o?null===m||void 0===m?void 0:m.toFixed(2):Math.ceil(m),"% off"]})]}):""]})}},50526:function(e,n,t){t.d(n,{Z:function(){return w}});var r=t(14924),a=t(26042),i=t(69396),s=t(85893),o=t(96486),c=t(67294),u=t(26683),l=t(83024),d=t(60766),p=t(89163),f=t(3126),m=t(87261),h=t(60994),g=t(84082),_=t(23149),v=t(47628),x=t(73716),y=t(96076),j=t(59417),Z=t(67814),b=t(89885),N=t(22490),C=function(e){return new RegExp(/^[1-9]{1}[0-9]{2}\s{0,1}[0-9]{3}$/).test(e)};function w(e){var n=(0,c.useContext)(b.Z).appConfig,t=e.isOpen,w=e.toggle,k=e.onBuyNow,E=e.isLoading,O=(0,c.useState)({}),S=O[0],R=O[1],L=(0,c.useState)({}),P=L[0],D=L[1],U=(0,c.useState)(!1),A=U[0],T=U[1],M=function(e){var n=e.target,t=n.name,s=n.value;D((0,i.Z)((0,a.Z)({},P),(0,r.Z)({},t,s)))},F=function(){var e={};if(T(!1),!C(P.pincode))return e.pincode="Please enter a valid pincode",void R(e);(0,v.vk)(P.pincode).then((function(e){T(!0),R({})})).catch((function(n){var t,r;e.pincode=null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message,T(!1),R(e)}))},K=function(e){var n=parseInt(e.target.value);Number.isNaN(n)&&(n=""),e.target.value=n,M(e),C(n)&&(0,v.$9)(n).then((function(e){var t;e.length>0&&"success"===(null===(t=e[0].Status)||void 0===t?void 0:t.toLowerCase())&&D((0,i.Z)((0,a.Z)({},P),{pincode:n,city:e[0].PostOffice[0].District,state:e[0].PostOffice[0].State}))})).catch((function(e){console.error(e)}))},Y=(0,c.useMemo)((function(){var e=(0,N.h)(n.web_enablePreferredLanguage);return function(n){var t;return(null===(t=y.wS[n])||void 0===t?void 0:t[e?"hi":"en"])||n}}),[n.web_enablePreferredLanguage]);return(0,s.jsxs)(u.Z,{isOpen:t,toggle:w,scrollable:!0,children:[(0,s.jsx)(l.Z,{toggle:w,children:"Enter Address"}),(0,s.jsxs)(d.Z,{children:[(0,s.jsxs)(p.Z,{children:[(0,s.jsx)(f.Z,{className:"required",children:Y("name")}),(0,s.jsx)(m.Z,{type:"text",name:"name",placeholder:"Enter your name",value:P.name,onChange:M,invalid:S.name}),S.name&&(0,s.jsx)("small",{className:"text-danger",children:S.name})]}),(0,s.jsxs)(p.Z,{className:"d-flex flex-column",children:[(0,s.jsx)(f.Z,{className:"required",children:Y("phone")}),(0,s.jsx)(m.Z,{type:"text",name:"phone",placeholder:"Enter your phone number",invalid:S.phone,value:P.phone,onChange:K}),(0,s.jsx)("small",{className:"font-xs text-gray",children:n.web_phoneinputnote?n.web_phoneinputnote:y.Rl}),S.phone&&(0,s.jsx)("small",{className:"text-danger",children:S.phone})]}),(0,s.jsxs)(p.Z,{children:[(0,s.jsx)(f.Z,{className:"required",children:Y("address")}),(0,s.jsx)(m.Z,{type:"text",name:"address",placeholder:"Enter your address",value:P.address,onChange:M,invalid:S.address}),S.address&&(0,s.jsx)("small",{className:"text-danger",children:S.address})]}),(0,s.jsxs)(p.Z,{children:[(0,s.jsx)(f.Z,{className:"required",children:Y("pincode")}),(0,s.jsxs)(h.Z,{children:[(0,s.jsx)(m.Z,{type:"text",name:"pincode",placeholder:"Enter your pincode",value:P.pincode,onChange:K,onBlur:F,onKeyDown:function(e){"Enter"===e.key&&F()},invalid:S.pincode,valid:A}),(0,s.jsx)(g.Z,{color:"primary",onClick:F,children:"Check"})]}),A&&(0,s.jsx)("small",{className:"text-success",children:"Delivering to this pincode"}),S.pincode&&(0,s.jsx)("small",{className:"text-danger",children:S.pincode})]}),(0,s.jsxs)(p.Z,{children:[(0,s.jsx)(f.Z,{className:"required",children:Y("city")}),(0,s.jsx)(m.Z,{type:"text",name:"city",placeholder:"Enter your city",value:P.city,onChange:M,invalid:S.city}),S.city&&(0,s.jsx)("small",{className:"text-danger",children:S.city})]}),(0,s.jsxs)(p.Z,{children:[(0,s.jsx)(f.Z,{className:"required",children:Y("state")}),(0,s.jsxs)(m.Z,{type:"select",name:"state",invalid:S.state,onChange:M,value:P.state,defaultValue:"",children:[(0,s.jsx)("option",{value:"",children:"Select state"}),y.PO.map((function(e){return(0,s.jsx)("option",{children:e},e)}))]}),S.state&&(0,s.jsx)("small",{className:"text-danger",children:S.state})]}),(0,s.jsxs)(p.Z,{children:[(0,s.jsx)(f.Z,{className:"required",children:Y("landmark")}),(0,s.jsx)(m.Z,{type:"text",name:"landmark",placeholder:"Enter your landmark",value:P.landmark,onChange:M,invalid:S.landmark}),S.landmark&&(0,s.jsx)("small",{className:"text-danger",children:S.landmark})]}),(0,s.jsxs)(p.Z,{className:"d-flex flex-column",children:[(0,s.jsx)(f.Z,{children:Y("phone2")}),(0,s.jsx)(m.Z,{type:"text",name:"phone_number_2",placeholder:"Enter your phone number",invalid:S.phone_number_2,value:P.phone_number_2,onChange:K}),(0,s.jsx)("small",{className:"font-xs text-gray",children:n.web_phoneinputnote?n.web_phoneinputnote:y.Rl}),S.phone_number_2&&(0,s.jsx)("small",{className:"text-danger",children:S.phone_number_2})]}),(0,s.jsxs)(p.Z,{children:[(0,s.jsx)(f.Z,{children:Y("care_of")}),(0,s.jsx)(m.Z,{type:"text",name:"care_of",placeholder:"Enter care of",value:P.care_of,onChange:M,invalid:S.care_of}),S.care_of&&(0,s.jsx)("small",{className:"text-danger",children:S.care_of})]}),(0,s.jsxs)(p.Z,{children:[(0,s.jsx)(f.Z,{className:"required",children:Y(n.web_fieldpostofficename||"post_office")}),(0,s.jsx)(m.Z,{type:"text",name:"".concat(n.web_fieldpostofficename||"post_office"),placeholder:"Enter your ".concat(n.web_fieldpostofficename||"Post Office"),value:P[n.web_fieldpostofficename||"post_office"],onChange:M,invalid:S.post_office}),S["".concat(n.web_fieldpostofficename||"post_office")]&&(0,s.jsx)("small",{className:"text-danger",children:S["".concat(n.web_fieldpostofficename||"post_office")]})]})]}),(0,s.jsx)(_.Z,{children:(0,s.jsxs)(g.Z,{color:"primary",disabled:!A,onClick:function(){var e,t={};["name","phone","address","city","state","pincode","landmark","".concat(n.web_fieldpostofficename||"post_office")].forEach((function(e){P[e]&&""!==P[e].toString().trim()||(t[e]="Please enter ".concat(e))})),["phone","phone_number_2"].forEach((function(e){(0,x.n6)(P[e])||(t[e]="Please enter a valid mobile number")})),new RegExp(/^[1-9]{1}[0-9]{2}\s{0,1}[0-9]{3}$/).test(P.pincode)||(t.pincode="Please enter a valid pincode"),(null===(e=P.address)||void 0===e?void 0:e.trim().length)<15&&(t.address="Address must have atleast 15 characters");var r=n.web_fieldpostofficename||"post_office";P[r]||(t["".concat(n.web_fieldpostofficename||"post_office")]="Please enter your ".concat(n.web_fieldpostofficename||"post_office")),R(t),(0,o.isEmpty)(t)&&k(P)},block:!0,children:[E&&(0,s.jsx)(Z.G,{icon:j.LM3,className:"me-2",spin:!0}),n.web_addressBtnText||"Buy Now"]})})]})}},79535:function(e,n,t){t.d(n,{Z:function(){return u}});var r=t(85893),a=t(59417),i=t(67814),s=t(67294),o=t(26683),c=t(96076);function u(e){var n=e.isOpen,t=e.toggle,u=e.isLoading,l=e.setIsLoading,d=(0,s.useRef)(),p=c.dX;return(0,r.jsxs)(o.Z,{size:"sm",className:"razorpay-modal",toggle:t,isOpen:n,children:[u&&(0,r.jsx)(i.G,{icon:a.LM3,className:"position-absolute center",spin:!0}),(0,r.jsx)("iframe",{allowpaymentrequest:"true",ref:d,height:599,width:"310",src:"".concat(p,"/buy"),onLoad:function(){var e=localStorage.getItem("rzp_options");if(null!=e){var n=JSON.parse(e);d.current.contentWindow.postMessage({options:n},p),l(!1)}}})]})}},62380:function(e,n,t){t.d(n,{Z:function(){return Z}});var r=t(85893),a=t(59417),i=t(67814),s=t(26683),o=t(60766),c=t(84082),u=(t(41664),t(96486)),l=t(47568),d=t(97582),p=t(67294),f=t(47628),m=t(39886),h=t(54610),g=t(30381),_=t.n(g),v=t(98395),x=t(22490);function y(e){var n=e.isKycCompleted,t=e.productDetails,a=e.onCompleteKYC,i=(0,p.useState)(!1),s=i[0],o=i[1],g=(0,p.useState)(""),y=g[0],j=g[1],Z=(0,p.useState)(""),b=Z[0],N=Z[1],C=(0,p.useState)(""),w=C[0],k=C[1],E=(0,p.useCallback)((0,l.Z)((function(){var e,n,r;return(0,d.__generator)(this,(function(a){switch(a.label){case 0:if(!(0,x.h)(null===t||void 0===t?void 0:t.showTelegram))return[2];o(!0),"",a.label=1;case 1:return a.trys.push([1,3,4,5]),[4,(0,f.io)("",t.item_id,t.item_type)];case 2:return n=a.sent(),(null===(e=n.data)||void 0===e?void 0:e.error_code)===v.c.PURCHASE_NOT_FOUND?(k(v.c.PURCHASE_NOT_FOUND),o(!1),[2]):(n.data&&(n.data.is_pan_verified||"undefined"===typeof n.data.is_pan_verified?(j(n.data.invite_link),N(n.data.link_expiry),k("")):k(v.c.COMPLETE_KYC)),[3,5]);case 3:return r=a.sent(),console.error("Error while generating telegram link",r),k("ERROR"),[3,5];case 4:return o(!1),[7];case 5:return[2]}}))})),[t]);(0,p.useEffect)((function(){o(!0);var e=setTimeout(E,5e3);return function(){return clearTimeout(e)}}),[t,E,n]);var O=(0,p.useMemo)((function(){return(0,u.debounce)(E,300)}),[E]),S=(0,p.useMemo)((function(){return(0,u.debounce)(a||console.log,300)}),[a]);return(0,r.jsx)("div",{id:"telegram-link",children:(null===t||void 0===t?void 0:t.showTelegram)?(0,r.jsx)(m.Z,{className:"bg-light mb-3",children:(0,r.jsx)(h.Z,{children:s?(0,r.jsx)("p",{className:"fw-bold",children:"Generating link..."}):w===v.c.PURCHASE_NOT_FOUND?(0,r.jsx)(c.Z,{color:"primary",className:"mb-2",disabled:s,onClick:O,children:s?"Retrying...":"Retry"}):w===v.c.COMPLETE_KYC?(0,r.jsx)(c.Z,{color:"primary",className:"mb-2",onClick:S,children:"Complete KYC"}):y?(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{children:"Your Telegram invite link:"}),(0,r.jsx)("a",{href:y,children:y}),(0,r.jsxs)("p",{children:["Expires on: ",_()(b).format("DD-MM-YYYY")]})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{children:"Failed to generate link. Please try again."}),(0,r.jsx)(c.Z,{color:"primary",className:"mb-2",onClick:O,children:"Retry"})]})})}):""})}var j=t(42216);function Z(e){var n=e.isOpen,t=e.toggle,l=e.onClose,d=e.isKycCompleted,p=e.onCompleteKYC,f=e.link,m=e.productDetails;return(0,r.jsx)(s.Z,{id:"successModal",isOpen:n,centered:!0,toggle:t,onClosed:l,children:(0,r.jsxs)(o.Z,{className:"text-center",children:[(0,r.jsx)(i.G,{icon:a.f8k,className:"text-success mb-4",size:"5x"}),(0,r.jsx)("h5",{children:"Purchase Successful"}),(0,r.jsx)("div",{className:"font-lg font-semi-bold mb-4",children:"Your purchased content will be available to access in your account"}),(0,r.jsx)(y,{productDetails:m,onCompleteKYC:p,isKycCompleted:d}),!(0,u.isEmpty)(f)&&(0,r.jsx)(r.Fragment,{children:f.startsWith("/")?(0,r.jsx)(j.Q,{href:f,children:"View Content"}):(0,r.jsx)(c.Z,{color:"primary",size:"lg",className:"text-white",target:"_blank",href:f,tag:"a",children:"Open Link"})})]})})}},98395:function(e,n,t){t.d(n,{c:function(){return r}});var r={PURCHASE_NOT_FOUND:"PURCHASE_NOT_FOUND",LINK_ALREADY_USED:"LINK_ALREADY_USED",COMPLETE_KYC:"COMPLETE_KYC"}}}]);