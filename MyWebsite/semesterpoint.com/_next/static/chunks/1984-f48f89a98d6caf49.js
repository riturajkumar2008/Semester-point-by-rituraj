"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1984],{42893:function(e,t,s){s.d(t,{Z:function(){return m}});var i=s(85893),n=s(35773),r=s(95305),l=s(39886),c=s(54610),o=s(47911),a=s(23138),d=(s(41664),s(67294)),u=s(89885);function m(e){var t=e.subjects,s=(e.courseId,e.onClick),m=(0,d.useContext)(u.Z).appConfig;return(0,i.jsx)(n.Z,{children:(null===t||void 0===t?void 0:t.length)>0?t.map((function(e){return(0,i.jsx)(r.Z,{xs:"6",md:"3",className:"mb-4",onClick:function(t){s&&(t.preventDefault(),t.stopPropagation(),s(e))},children:(0,i.jsx)(l.Z,{className:"cursor-pointer",children:(0,i.jsxs)(c.Z,{className:"text-center",children:[(0,i.jsx)(o.Z,{src:e.subject_logo||m.web_logotransparent,className:"rounded-circle text-center mb-2 mx-auto",style:{width:"120px",height:"120px",objectFit:"cover"}}),(0,i.jsx)("h6",{className:"mb-0 text-truncate",children:e.subject_name})]})})},e.subjectid)})):(0,i.jsx)(a.Z,{color:"primary",isOpen:!0,children:"No subjects available"})})}},43041:function(e,t,s){s.d(t,{Z:function(){return x}});var i=s(85893),n=s(59417),r=s(67814),l=s(67294),c=s(35773),o=s(95305),a=s(39886),d=s(54610),u=s(84082),m=s(23138),h=s(89885),f=s(22490);function x(e){var t=e.telegramLinks,s=e.isPurchased,x=e.courseThumbnail,p=(0,l.useContext)(h.Z),b=p.hasSession,j=p.toggleAuthModal;return(0,i.jsx)(c.Z,{children:(null===t||void 0===t?void 0:t.length)>0?t.map((function(e){return(0,i.jsx)(o.Z,{md:"4",xs:"6",className:"mb-4",children:(0,i.jsxs)(a.Z,{children:[x||(null===e||void 0===e?void 0:e.image)?(0,i.jsx)("img",{src:x||(null===e||void 0===e?void 0:e.image),className:"rounded-t-2xl",alt:e.group_name,onError:function(e){e.currentTarget.src="/empty-image-web.svg"}}):(0,i.jsx)(r.G,{className:"py-5 card-img-top bg-primary-light text-primary",size:"2x",icon:n.wlW}),(0,i.jsxs)(d.Z,{className:"border-top",children:[(0,i.jsx)("div",{className:"font-lg font-bold mb-3",children:e.group_name}),(0,i.jsx)(u.Z,{color:"primary",block:!0,onClick:function(){b?window.open(e.link,"_blank","noreferrer"):j()},disabled:b&&!(0,f.h)(s),children:b?"View":"Log in To Attempt"})]})]})},e.id)})):(0,i.jsx)(m.Z,{color:"primary",children:"No items found"})})}},76891:function(e,t,s){s.d(t,{Z:function(){return h}});var i=s(29815),n=s(85893),r=s(11163),l=s(91444),c=s(26683),o=s(83024),a=s(60766),d=s(23149),u=s(84082),m=s(44898);function h(e){var t=e.isSectionSelectorOpen,s=e.toggleSectionSelector,h=e.selectedTest,f=e.sections,x=e.setSections,p=(0,r.useRouter)();return(0,n.jsxs)(c.Z,{isOpen:t,toggle:s,children:[(0,n.jsx)(o.Z,{toggle:s,children:"Select Sections"}),(0,n.jsxs)(a.Z,{children:[(0,n.jsxs)("div",{className:"text-danger mb-3",children:["Please select atleast ",h.minimumsection," sections"]}),f.filter((function(e){return"1"==e.is_optional})).map((function(e,t){return(0,n.jsx)("div",{className:"".concat(e.selected?"bg-primary-light ":"bg-light"," p-3  mb-3 cursor-pointer rounded"),onClick:function(t){e.selected=1!=e.selected,x((0,i.Z)(f))},children:e.section_title},e.section_id)}))]}),(0,n.jsx)(d.Z,{children:(0,n.jsx)(u.Z,{onClick:function(){var e=f.filter((function(e){return e.selected||"1"!=e.is_optional})).map((function(e){return e.section_id}));e.length<h.minimumsection?l.Am.error("Please attempt atleast ".concat(h.minimumsection," sections")):(f.filter((function(e){return"1"==e.is_optional})),e.length>h.maximumsection?l.Am.error("Maximum only ".concat(h.maximumsection," sections are allowed")):(localStorage.setItem("selected_sections",e.join(",")),(0,m.NX)(h,p)))},children:"Select"})})]})}},71984:function(e,t,s){s.d(t,{Z:function(){return W}});var i=s(47568),n=s(26042),r=s(69396),l=s(99534),c=s(87146),o=s(97582),a=s(85893),d=s(84082),u=s(60994),m=s(87261),h=s(79862),f=s(35510),x=s(81051),p=s(81780),b=s(33073),j=s(35773),v=s(95305),g=s(23138),Z=s(39886),y=s(54610),_=s(49816),k=s(3751),N=s(90387),w=s(67294),S=s(89885),C=s(65356),M=s(45508),T=s(96461),A=s(42893),I=s(7386),P=s(47041),E=s(96076),L=s(67814),q=s(59417),D=(s(41664),s(91444)),O=s(99209),U=s(43041),B=s(30381),R=s.n(B),G=s(96486),z=s(76891),F=s(17399),V=s(58094),H=s(22490),Q=s(44898);function W(e){var t,s,B,W=e.subjects,Y=e.testSeriesId,$=e.isPaidScreen,J=e.colWidth,K=void 0===J?"4":J,X=e.isTestPass,ee=e.isPurchased,te=(0,N.useRouter)(),se=(0,V.Z)(),ie=(0,w.useState)(),ne=ie[0],re=ie[1],le=(0,w.useState)(),ce=le[0],oe=le[1],ae=(0,w.useState)(),de=ae[0],ue=ae[1],me=(0,w.useCallback)((function(){return re(!ne)}),[ne]),he=(0,w.useContext)(S.Z),fe=he.appConfig,xe=he.hasSession,pe=he.setIsLogin,be=he.toggleAuthModal,je=he.currentUser,ve=(0,w.useState)(),ge=ve[0],Ze=ve[1],ye=(0,w.useState)(e.tests),_e=ye[0],ke=ye[1],Ne=(0,w.useState)(W.length<=1),we=Ne[0],Se=Ne[1],Ce=te.query,Me=Ce.api,Te=Ce.lcId,Ae=Ce.testPassUrl;Me=(0,M.NA)(Me);var Ie=(0,w.useState)(),Pe=Ie[0],Ee=Ie[1],Le=(0,w.useState)(""),qe=Le[0],De=Le[1],Oe=(0,w.useState)(1==(null===W||void 0===W?void 0:W.length)?W[0]:null),Ue=Oe[0],Be=Oe[1],Re=(0,w.useRef)(qe),Ge=((0,w.useRef)(null),(0,w.useCallback)((function(e){De(e),Re.current=e}),[])),ze=te.pathname.includes("tests"),Fe=(0,w.useMemo)((function(){var e;return[{title:fe.web_testtitletabname||"Tests",key:"tests",order:fe.web_testtitletabposition,isEnabled:!0},{title:fe.web_pdftitletabname||"Pdfs",key:"pdf",order:fe.web_testpdftabposition,isEnabled:"1"!=fe.web_disabletestpdftab&&!(0,H.h)(X)},{title:fe.web_telegramtitletabname||"Telegram Links",key:"telegramLink",order:fe.web_telegramlinkstabposition,isEnabled:"1"==fe.web_enabletestseriestelegramlinks&&!(0,H.h)(X)},{title:fe.web_subjectivetitletabname||"Test Subjectives",key:"subjective",order:fe.web_testsubjectivetabposition,isEnabled:(null===_e||void 0===_e||null===(e=_e.test_subjective)||void 0===e?void 0:e.length)>0}].filter((function(e){return e.isEnabled})).sort((function(e,t){return e.order-t.order}))}),[fe,_e]),Ve=(0,k.useTimer)({expiryTimestamp:new Date,autoStart:!1,onExpire:function(){He(ce)}}),He=(0,w.useCallback)((function(e){Ze((function(t){if(!t&&!(0,G.isEmpty)(e.time)&&!isNaN(e.time)&&Number(e.time)>0){var s=(new Date).setMinutes((new Date).getMinutes()+Number(e.time));Ve.restart(s)}return!t}))}),[]),Qe=(0,w.useState)(Fe[0].key),We=Qe[0],Ye=Qe[1];(0,w.useEffect)((function(){"1"==fe.web_enabletestseriestelegramlinks&&(0,O.PS)("",Y,3).then((function(e){Ee(e)}))}),[]),(0,w.useEffect)((function(){var e;_e&&je&&(null===_e||void 0===_e||null===(e=_e.test_pdf)||void 0===e||e.filter((function(e){return"OMR"==e.type})).forEach((function(e){(0,I.gU)("",e.id,(null===je||void 0===je?void 0:je.userid)||-1,null,Ae).then((function(t){e.is_test_attempted=t}))})))}),[_e]);var $e=(0,w.useCallback)((function(e){var t=e||Ue;if(t){e&&"object"===typeof e&&e.subjectid&&Be(e);var s=t.subjectid,i=(0,P.getCookie)(E.JR),l=Me||(0,P.getCookie)(E.z1),c=Re.current;(0,I.MM)(l,Y,i,s,c,Ae).then((function(e){ke(e),Se(!0),Ye("tests"),te.push({pathname:te.pathname,query:(0,r.Z)((0,n.Z)({},te.query),{subjectId:s})},void 0,{shallow:!1})}))}}),[Me,Ue,Ae,Y,te]),Je=(0,w.useMemo)((function(){return(0,G.debounce)((function(){Ue&&$e(Ue)}),300)}),[Ue,$e]),Ke=(0,w.useCallback)((function(e){We!==e&&Ye(e)}),[We]),Xe=(0,w.useCallback)((function(e){He(e),oe(e)}),[He]);(0,w.useEffect)((function(){if(te.query.subjectId&&(null===W||void 0===W?void 0:W.length)>0){var e=W.find((function(e){return String(e.subjectid)===String(te.query.subjectId)}));e&&(Be(e),Se(!0),$e(e))}}),[]);var et=(0,w.useCallback)((function(e){(0,I.uG)(Me,e.id,Ae).then(function(){var t=(0,i.Z)((function(t){return(0,o.__generator)(this,(function(s){return t.can_attempt?te.push({pathname:"/test-series/".concat(e.test_series_id,"/omr-test/").concat(e.id,"/terms"),query:Te?{lcId:Te,baseUrl:Me}:{testPassUrl:Ae}}):D.Am.error("You have exceeded maximum attempts on this test."),[2]}))}));return function(e){return t.apply(this,arguments)}}()).catch((function(t){"1"==e.show_result?te.push({pathname:"/test-series/".concat(e.test_series_id,"/omr-test/").concat(e.id,"/results"),query:Te?{lcId:Te,baseUrl:Me}:{testPassUrl:Ae}}):D.Am.error("You have exceeded maximum attempts on this test.")}))}),[]);return(0,a.jsxs)("div",{children:[we?(0,a.jsxs)("div",{className:"mt-[200px] xl:mt-0",children:[(0,a.jsxs)(u.Z,{className:"mb-5",children:[(0,a.jsx)(m.Z,{className:ze?"w-full":"max-w-md",value:qe,placeholder:"Type here and press enter to search..",onChange:function(e){return Ge(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&Je()}}),(0,a.jsx)(d.Z,{color:"primary",onClick:Je,children:"Search"})]}),(0,a.jsxs)("div",{className:"position-relative",children:[W.length>1&&(0,a.jsx)(d.Z,{color:"link",className:"p-0 position-absolute start-0",style:{top:"12px",zIndex:2},onClick:function(){Se(!1),function(e){var t=te.query,s=(t[e],(0,l.Z)(t,[e].map(c.Z)));te.push({pathname:te.pathname,query:s},void 0,{shallow:!0})}("subjectId")},children:(0,a.jsx)(L.G,{icon:q.jio,color:"gray",size:"lg"})}),(0,a.jsx)(h.Z,{className:"mb-5 justify-content-center",pills:!0,children:Fe.filter((function(e){return e.isEnabled})).sort((function(e,t){return e.order-t.order})).map((function(e){return(0,a.jsx)(f.Z,{className:"cursor-pointer me-3",children:(0,a.jsx)(x.Z,{className:"py-1 px-4 font-semi-bold ".concat(We==e.key?"bg-primary font-primary font-bold":"bg-primary-light font-primary-lightest-bg font-semi-bold"),onClick:function(){Ke(e.key)},children:e.title})},e.key)}))}),(0,a.jsxs)(p.Z,{activeTab:We,children:[(0,a.jsx)(b.Z,{tabId:"tests",children:(0,a.jsx)(j.Z,{children:(null===_e||void 0===_e||null===(t=_e.test_titles)||void 0===t?void 0:t.length)>0?null===_e||void 0===_e?void 0:_e.test_titles.map((function(e){return(0,a.jsx)(v.Z,{md:K,className:"mb-4",children:(0,a.jsx)(T.Z,{test:e,isPaidScreen:$,setSelectedTest:oe,toggleSectionSelector:me,setSections:ue,viewPdf:function(){return Xe(e)}})},e.id)})):(0,a.jsx)(g.Z,{color:"primary",isOpen:!0,children:"No tests available"})})},"tests"),(0,a.jsx)(b.Z,{tabId:"pdf",children:(0,a.jsx)(j.Z,{children:(null===_e||void 0===_e||null===(s=_e.test_pdf)||void 0===s?void 0:s.length)>0?null===_e||void 0===_e?void 0:_e.test_pdf.map((function(e){var t=e.is_test_attempted&&1===Number(e.max_test_attempt),s=R()(e.enddatetime).isAfter(R()(e.date_time))?R()().isBetween(R()(e.date_time),R()(e.enddatetime)):R()().isAfter(e.date_time),i=R()(e.enddatetime).isAfter(R()(e.date_time))&&R()().isAfter(R()(e.enddatetime)),n=R()().isBefore(R()(e.date_time));return(0,a.jsx)(v.Z,{md:K,className:"mb-4",children:(0,a.jsx)(Z.Z,{children:(0,a.jsxs)(y.Z,{children:[(0,a.jsx)(_.Z,{tag:"h5",className:"font-bold font-lg",children:e.title}),(0,a.jsxs)(j.Z,{className:"text-center font-semi-bold lh-sm border-top pt-3 font-sm mb-3",children:[(0,a.jsxs)(v.Z,{children:[(0,a.jsx)("div",{children:e.questions}),"Questions"]}),(0,a.jsxs)(v.Z,{children:[(0,a.jsx)("div",{children:e.marks}),"Marks"]}),(0,a.jsxs)(v.Z,{children:[(0,a.jsx)("div",{children:(0,Q.$M)(e.time)}),"Minutes"]})]}),xe?"OMR"==e.type?(0,a.jsxs)(a.Fragment,{children:[s&&!t&&(0,a.jsxs)(d.Z,{block:!0,color:"primary",className:"mt-2",disabled:!$&&"0"==e.free_flag,onClick:function(t){return et(e)},children:[!$&&"0"==e.free_flag&&(0,a.jsx)(L.G,{icon:q.byT,className:"me-2"}),"Attempt"]}),i&&(0,a.jsx)("div",{className:"text-danger text-center",children:"This test has ended"}),n&&(0,a.jsxs)("div",{className:"text-danger text-center",children:["Live on:"," ",R()(e.date_time).format("D MMM yyyy, hh:mm A")]}),e.is_test_attempted&&"1"==e.show_result&&(0,a.jsx)(d.Z,{className:"mt-2",block:!0,color:"primary",onClick:function(){return te.push({pathname:"/test-series/".concat(e.test_series_id,"/omr-test/").concat(e.id,"/results"),query:Te?{lcId:Te,baseUrl:Me}:{testPassUrl:Ae}})},children:"Results"})]}):(0,a.jsxs)(a.Fragment,{children:[n&&(0,a.jsxs)("div",{className:"text-danger text-center",children:["Live on:"," ",R()(e.date_time).format("D MMM yyyy, hh:mm A")]}),(0,a.jsxs)(d.Z,{block:!0,color:"primary",className:"mt-2",disabled:n||!$&&"0"==e.free_flag,onClick:function(t){Xe(e)},children:[!$&&"0"==e.free_flag&&(0,a.jsx)(L.G,{icon:q.byT,className:"me-2"})," ","View PDF"]})]}):(0,a.jsx)(d.Z,{onClick:function(){pe(!0),be()},block:!0,color:"primary",children:"Login to View"})]})})},e.id)})):(0,a.jsxs)(g.Z,{color:"primary",isOpen:!0,children:["No pdfs available"," "]})})},"pdf"),(0,a.jsx)(b.Z,{tabId:"subjective",children:(0,a.jsx)(j.Z,{children:(null===_e||void 0===_e||null===(B=_e.test_subjective)||void 0===B?void 0:B.length)>0?null===_e||void 0===_e?void 0:_e.test_subjective.map((function(e){return(0,a.jsx)(v.Z,{md:K,className:"mb-4",children:(0,a.jsx)(Z.Z,{children:(0,a.jsxs)(y.Z,{children:[(0,a.jsx)(_.Z,{tag:"h5",className:"font-bold font-lg",children:e.title}),(0,a.jsxs)(j.Z,{className:"text-center font-semi-bold lh-sm border-top pt-3 font-sm mb-3",children:[(0,a.jsxs)(v.Z,{children:[(0,a.jsx)("div",{children:e.questions}),"Questions"]}),(0,a.jsxs)(v.Z,{children:[(0,a.jsx)("div",{children:e.marks}),"Marks"]}),(0,a.jsxs)(v.Z,{children:[(0,a.jsx)("div",{children:(0,Q.$M)(e.time)}),"Minutes"]})]}),R()(e.enddatetime).isAfter(R()(e.date_time))&&R()().isAfter(R()(e.enddatetime))&&(0,a.jsx)("div",{className:"text-danger text-center",children:"This test has ended"}),R()().isBefore(R()(e.date_time))&&(0,a.jsxs)("div",{className:"text-danger text-center",children:["Live on:"," ",R()(e.date_time).format("D MMM yyyy, hh:mm A")]}),xe?(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(d.Z,{block:!0,color:"primary",className:"mt-2",disabled:!$&&"0"==e.free_flag||R()().isBefore(e.date_time),onClick:function(t){return te.push("/test-series/".concat(Y,"/test-subjective/").concat(e.id))},children:[!$&&"0"==e.free_flag&&(0,a.jsx)(L.G,{icon:q.byT,className:"me-2"}),"View Test"]})}):(0,a.jsx)(d.Z,{onClick:function(){pe(!0),be()},block:!0,color:"primary",children:"Login to View"})]})})},e.id)})):(0,a.jsxs)(g.Z,{color:"primary",isOpen:!0,children:["No pdfs available"," "]})})},"subjective"),"1"==fe.web_enabletestseriestelegramlinks&&(0,a.jsx)(b.Z,{tabId:"telegramLink",children:(0,a.jsx)(U.Z,{telegramLinks:Pe,isPurchased:ee})},"telegramLink")]})]})]}):(0,a.jsxs)("div",{className:"md:mt-[150px]",children:[(0,a.jsxs)("div",{className:"flex items-center w-full mb-5 justify-center relative",children:[(0,a.jsx)(d.Z,{color:"link",className:"absolute top-0 start-0",style:{top:"12px",zIndex:2},onClick:function(){return te.push("/test-series")},children:(0,a.jsx)(L.G,{icon:q.jio,color:"gray",size:"lg"})}),(0,a.jsx)("h5",{className:"text-center",children:"Select Subject"})]}),(0,a.jsx)(A.Z,{subjects:W,onClick:$e})]}),ne&&(0,a.jsx)(z.Z,{isSectionSelectorOpen:ne,toggleSectionSelector:me,selectedTest:ce,sections:de,setSections:ue}),ce&&(0,a.jsx)(C.Z,(0,n.Z)({title:null===ce||void 0===ce?void 0:ce.title,isOpen:ge,toggle:He,link:(0,M.NA)(ce.pdf_url),allowDownload:null===ce||void 0===ce?void 0:ce.save_flag},ce.time&&Number(ce.time)>0&&{modalHeaderProps:{className:"test-series-pdf-viewer pr-2",style:{borderBottom:"2px solid ".concat(se)}},modalHeaderChildren:(0,a.jsxs)("div",{className:"d-flex justify-content-between align-items-center w-100",children:[(0,a.jsx)("h6",{className:"m-0",children:ce.title}),(0,a.jsxs)("h6",{className:"m-0 ml-auto",children:[(0,F.SB)(Ve.hours),":",(0,F.SB)(Ve.minutes),":",(0,F.SB)(Ve.seconds)]})]})}))]})}}}]);