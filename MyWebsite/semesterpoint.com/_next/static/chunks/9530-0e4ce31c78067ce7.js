"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9530],{65356:function(e,n,t){t.d(n,{Z:function(){return p}});var i=t(26042),o=t(69396),r=t(85893),a=t(67294),l=t(26683),c=t(83024),s=t(96076),u=t(47041),d=t(89885),f=s.jA;function p(e){var n=e.title,t=e.isOpen,p=e.toggle,m=e.allowDownload,v=void 0===m?"0":m,g=e.isEncrypted,w=void 0===g?"0":g,y=e.encryptionVersion,h=void 0===y?"1":y,b=e.encryptionKey,x=void 0===b?"":b,k=e.phone,E=void 0===k?"":k,C=e.modalHeaderProps,Z=void 0===C?{}:C,j=e.modalHeaderChildren,N=void 0===j?null:j,S=(e.watermarkConfig,e.clientUrl),_=e.link,z=e.size,U=(0,a.useContext)(d.Z).currentUser,I=(0,a.useRef)(null),R=(0,a.useMemo)((function(){var e,n;try{var t=(0,u.getCookie)(s.z1);t&&(e=new URL(t))}catch(i){console.error("error while getting base url",i)}return null!==(n=null!==S&&void 0!==S?S:null===e||void 0===e?void 0:e.host)&&void 0!==n?n:""}),[S]),A=(0,a.useMemo)((function(){return E||((null===U||void 0===U?void 0:U.phone)?btoa(s.qn.VALUE+s.qn.VALUE1+U.phone):"")}),[E,U]),O=(0,a.useCallback)((function(){var e=new URLSearchParams;return new Map([["file",_],["save_flag",v],["is_encrypted",w],["encryption_version",h],["encryption_key",x],["title",n],["phone",A],["client_url",R]]).forEach((function(n,t){n&&e.append(t,n)})),e.toString()}),[_,v,w,h,x,n,A,R]);return(0,a.useEffect)((function(){return window.print=function(e){},window.onkeydown=function(e){(80===e.keyCode||83===e.keyCode||67===e.keyCode)&&(e.ctrlKey||e.metaKey)&&!e.altKey&&!e.shiftKey&&(e.preventDefault(),e.stopImmediatePropagation?e.stopImmediatePropagation():e.stopPropagation())},function(){window.onkeydown=null}}),[]),(0,r.jsxs)(l.Z,{unmountOnClose:!0,isOpen:t,toggle:p,fullscreen:!z,size:z||void 0,children:[p&&(0,r.jsxs)(c.Z,(0,o.Z)((0,i.Z)({toggle:p},Z),{children:[(0,r.jsx)("div",{className:"flex gap-2",children:n&&!N&&(0,r.jsx)("div",{className:"font-lg font-bold",children:n})}),N||(0,r.jsx)(r.Fragment,{})]})),(0,r.jsx)("iframe",{ref:I,src:"".concat(f,"pdfjs/web/viewer-new.html?").concat(O()),sandbox:"allow-forms allow-scripts allow-same-origin allow-popups allow-modals allow-top-navigation allow-top-navigation-by-user-activation allow-orientation-lock allow-downloads",allowFullScreen:!0,height:"100%",width:"100%",className:"".concat(z?"h-[calc(45vh-3.5rem)]":"")})]})}},49475:function(e,n,t){t.d(n,{Z:function(){return r}});var i=t(85893),o=t(58094);function r(){var e=(0,o.Z)();return(0,i.jsx)("div",{className:"w-100 position-absolute top-0",style:{background:e,height:"5px",zIndex:1e3}})}},56346:function(e,n,t){var i=t(85893),o=t(67294),r=t(96076),a=t(42238),l=t.n(a),c=t(89885),s=t(41789),u=t(22490);n.Z=function(e){e.qualities;var n=e.src,t=(e.addHeader,e.uhsVersion,(0,o.useState)(!1)),a=t[0],d=t[1],f=(0,o.useContext)(c.Z),p=f.appConfig,m=(f.currentUser,(0,o.useRef)(null)),v=((0,o.useMemo)((function(){return(0,u.h)(p.web_enablewatermarkonvideos)}),[p.web_enablewatermarkonvideos]),(0,o.useMemo)((function(){return r.AC}),[])),g=(0,o.useMemo)((function(){return"".concat(v).concat(r.Eh,"?url=").concat(encodeURIComponent(n))}),[v,n]);return(0,o.useEffect)((function(){var e,n=(new(l())).getOS();Number(null===n||void 0===n||null===(e=n.version)||void 0===e?void 0:e.split(".")[0]);("iOS"==(null===n||void 0===n?void 0:n.name)||(null===n||void 0===n?void 0:n.name.toLowerCase().includes("mac"))&&"ontouchend"in document)&&d(!0)}),[]),a?(0,i.jsx)(s.Z,{url:"https://streamos.teachx.in/embed?url=".concat(encodeURIComponent(n))}):(0,i.jsx)("div",{className:"ratio ratio-16x9",children:(0,i.jsx)("iframe",{width:"100%",ref:m,height:"450px",allowFullScreen:!0,allow:"autoplay",src:g})})}},41789:function(e,n,t){t.d(n,{Z:function(){return a}});var i=t(85893),o=t(67294),r=(t(49475),t(39154),t(89885));t(96486);function a(e){var n=e.url;(0,o.useContext)(r.Z).appConfig;return(0,i.jsx)("div",{id:"myFrame",className:"bg-black flex items-center justify-center w-100 h-100 aspect-video",children:(0,i.jsx)("iframe",{src:n,className:"aspect-video w-100 h-100",loading:"lazy",allowFullScreen:!0})})}},39154:function(e,n,t){t.d(n,{Z:function(){return w}});var i=t(26042),o=t(69396),r=t(85893),a=t(96486),l=t(67294),c=t(89885),s=t(73716),u=t(42474),d=t.n(u),f=t(96076),p={display:"block",visibility:"visible",opacity:"0.1",zIndex:"1000",fontSize:"0.4rem",color:"rgba(255, 255, 255, 0.75)",background:"transparent",backgroundColor:"transparent",overflow:"visible",position:"absolute",padding:"0px",minWidth:"24px",textAlign:"center",pointerEvents:"none",borderRadius:"0px"},m=(0,o.Z)((0,i.Z)({},p),{color:"rgb(255, 0, 0)",background:"rgb(246, 247, 249)",backgroundColor:"rgb(246, 247, 249)",opacity:"0.5",fontSize:"1.6rem",minWidth:"120px",padding:"4px 10px",paddingTop:"4px",paddingBottom:"4px",paddingLeft:"10px",paddingRight:"10px"}),v=(0,o.Z)((0,i.Z)({},p),{opacity:"0.1",zIndex:"1000",fontSize:"0.4rem"}),g=function(e){var n=window.getComputedStyle(e),t=Object.keys(p).reduce((function(e,t){return e[t]=n[t],e}),{});return d().createHash("sha256").update(JSON.stringify(t)).digest("hex")};function w(e){var n=(0,l.useContext)(c.Z),t=n.currentUser,u=n.appConfig,d=(0,l.useState)(),w=d[0],y=d[1],h=(0,l.useRef)(""),b=function(n){var r,l;if(!(0,a.isEmpty)(e.message)||!(0,a.isEmpty)(t)){if(!n&&!1===function(){var n,i,o,r,l,c,s=document.getElementById("watermark");if(!s)return!1;if(s.hidden||s.clientHeight<(e.isAdmin?40:10)||s.clientWidth<(e.isAdmin?120:20))return!1;if(s.style.display!==v.display)return!1;if(s.style.visibility!==v.visibility)return!1;if(Number(s.style.opacity)<Number(v.opacity))return!1;if(Number(s.style.zIndex)<Number(v.zIndex))return!1;if(s.style.fontSize!==v.fontSize)return!1;if(s.style.color!==v.color)return!1;if(s.style.background!==v.background)return!1;if(s.style.position!==v.position)return!1;if(s.style.padding!==v.padding)return!1;if(["right","bottom","maxHeight","maxWidth","margin","marginTop","marginBottom","marginLeft","marginRight","scale","transform","translate","contentVisibility","contain","clipPath","webkitTransform"].some((function(e){return!(!s.style[e]||(0,a.isEmpty)(s.style[e]))})))return!1;var u=Number(null===(n=s.style.top)||void 0===n?void 0:n.replace("%","")),d=Number(null===(i=s.style.left)||void 0===i?void 0:i.replace("%",""));if(!(null===(o=s.style.top)||void 0===o?void 0:o.endsWith("%"))||!(null===(r=s.style.left)||void 0===r?void 0:r.endsWith("%"))||u<0||u>100||d<0||d>100)return!1;var f=e.message||"".concat(null===(l=t.email)||void 0===l?void 0:l.trim(),"\n").concat(null===(c=t.phone)||void 0===c?void 0:c.trim());if(s.innerText!==f)return!1;var m=g(s);if(!h.current)return h.current=m,!0;var w=m===h.current;if(!w){var y=window.getComputedStyle(s);Object.keys(p).forEach((function(e){y[e]}))}return w}())return window.parent.location,void window.location;var c=document.getElementById("watermark");if(w){c||(c=document.createElement("div")),c.id="watermark";var s=(0,a.random)(0,85),d=(0,a.random)(5,90);c.innerText=e.message||"".concat(null===(r=t.email)||void 0===r?void 0:r.trim(),"\n").concat(null===(l=t.phone)||void 0===l?void 0:l.trim()),c.hidden=!1;var f=e.isAdmin?50:!(0,a.isEmpty)(u.web_videowatermarkopacity)&&u.web_videowatermarkopacity>0?u.web_videowatermarkopacity:10,y=(0,o.Z)((0,i.Z)({},e.isAdmin?m:p),{left:"".concat(s,"%"),top:"".concat(d,"%"),opacity:"".concat(f,"%")});Object.assign(c.style,y),w.appendChild(c),h.current=g(c)}}};return(0,l.useEffect)((function(){window.addEventListener("message",(function(e){e.data.event===f.Rv.DEBUG_MODE_VALUE&&(window.__debugMode=e.data.value)}))}),[]),(0,l.useEffect)((function(){if(!(0,a.isEmpty)(e.message)||!(0,a.isEmpty)(t)){var n=document.getElementById("watermark"),i=n.parentNode;y(i)}}),[e.message,t]),(0,l.useEffect)((function(){if(w){b(!0);var e=(0,s.XR)(b,2e4);return function(){e.cancel()}}}),[w]),(0,r.jsx)("div",{id:"watermark"})}},58094:function(e,n,t){t.d(n,{Z:function(){return r}});var i=t(67294),o=t(89885);function r(){var e=(0,i.useContext)(o.Z).currentUser;if(!e||!e.phone)return null;var n=e.phone.slice(0,7),t=Number(n).toString(16);return"#".concat(t)}}}]);